<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Para dispositivos Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <!-- Para dispositivos iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <meta charset="UTF-8" />

  <!-- FullScreen -->
  <link rel="manifest" href="manifest.json" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FreeBike</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Botón Start / Grabando / Pausa / Stop -->
  <button class="icon-button" id="startStopBtn" title="Iniciar Grabación" 
          style="justify-self: center; width: 380px;">
    <span id="startStopLabel">▶️ Start</span>
    <div class="hold-progress">
      <svg class="hold-progress" width="36" height="36" viewBox="0 0 36 36" aria-hidden="true" focusable="false">
        <!-- <circle class="progress-bg" cx="18" cy="18" r="16"></circle> -->
        <!-- <circle class="progress-bar" cx="18" cy="18" r="16"></circle> -->
      </svg>
    </div>
  </button>

  <div class="grid">

    <!-- Tiempo -->
    <div class="sensor-block">
      <h2>⏱ Tiempo</h2>
      <div id="session-time" class="value">00:00</div>
    </div>

    <!-- Frecuencia Cardíaca -->
    <div class="sensor-block">
      <h2>❤️ FC</h2>
      <div id="hr-display" class="value">--</div>
      <button class="icon-button" id="hrConnectBtn" title="Conectar Banda">
        <img src="icons/heart.svg" alt="HR Icon" />
      </button>
    </div>

    <!-- Potencia -->
    <div class="sensor-block">
      <h2>⚡ Potencia</h2>
      <div id="power" class="value">--</div>
      <button class="icon-button" id="powerConnectBtn" title="Conectar Potencia">
        <img src="icons/bolt.svg" alt="Power Icon" />
      </button>
    </div>

    <!-- Cadencia -->
    <div class="sensor-block">
      <h2>⚡ Cadencia</h2>
      <div id="rpm" class="value">--</div>
      <button class="icon-button" id="rpmConnectBtn" title="Conectar Cadencia">
        <img src="icons/bolt.svg" alt="Cadence Icon" />
      </button>
    </div>

    <!-- Velocidad -->
    <div class="sensor-block">
      <h2>🚴‍♂️ / 🏃‍♂️ Velocidad</h2>
      <div id="gps-speed" class="value">--</div>
      <button class="icon-button" id="speedModeBtn" title="Cambiar Modo">
        <img id="speedModeIcon" src="icons/bike.svg" alt="Modo Bicicleta" />
      </button>
    </div>

    <!-- Distancia -->
    <div class="sensor-block">
      <h2>🛣️ Distancia</h2>
      <div id="gps-distance" class="value">--</div>
    </div>

  </div>

  <!-- Historial (fuera de la grilla) -->
  <div class="sensor-block" id="session-history" style="margin: 1rem;">
    <h2>🧾 Historial</h2>
    <ul id="session-list" class="session-grid"></ul>
  </div>

  <!-- <details id="session-history" class="sensor-block">
  <summary>🧾 Historial</summary>
  <ul id="session-list" class="session-grid"></ul>
</details> -->


  <!-- Versiones -->
  <div class="version-section">
    <a href="#" id="version-link">v1.1</a>
    <div id="changelog" style="display: none;">
      <ul>
        <li>v1.0 - FullScreen en Start</li>
        <li>v1.0 - Grilla con 2 columnas</li>
        <li>v0.9 - Pantalla siempre activa</li>
        <li>v0.8 - Historial y timestamp</li>
        <li>v0.7 - Implementando Firebase</li>
        <li>v0.6 - Velocidad e Distancia</li>
        <li>v0.5 - Agregado sensor de Cadencia</li>
        <li>v0.4 - Botones conectados en verde</li>
        <li>v0.3 - Grilla UI y versionado</li>
        <li>v0.2 - Agregado sensor de potencia</li>
        <li>v0.1 - Conexión con banda HR</li>
      </ul>
    </div>
  </div>

  <!-- Indicador de grabación -->
  <div id="recording-indicator" style="display: none;" class="recording">
    🔴 Grabando sesión...
  </div>

  <script type="module" src="js/main.js"></script>
</body>
</html>
